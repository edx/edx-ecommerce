{% extends 'edx/base.html' %}
{% load core_extras %}
{% load i18n %}
{% load staticfiles %}

{% block title %}
{% trans "Basket" %}
{% endblock title %}

{% block navbar %}
    {% include 'edx/partials/_student_navbar.html' %}
{% endblock navbar %}


{% block javascript %}
    <script src="{% static 'js/apps/basket_app.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="basket {% if enable_client_side_checkout %}basket-new{% endif %}">
        <div class="container">
            {# Use a partial template so that AJAX can be used to re-render basket #}
            {% if not basket.is_empty %}
                {% if enable_client_side_checkout %}
                    {% include 'basket/partials/new_basket_page.html' %}
                {% else %}
                    {% include 'basket/partials/old_basket_page.html' %}
                {% endif %}
            {% else %}
                {% block emptybasket %}
                    <div class="depth depth-2 message-error">
                        <h3>{% trans "Your purchase could not be completed" %}</h3>
                        {% captureas dashboard_link_start %}
                            <a href="{{ homepage_url }}">
                        {% endcaptureas %}

                        {% captureas support_link_start %}
                            <a href="{{ support_url }}">
                        {% endcaptureas %}

                        {% blocktrans with link_end="</a>" %}
                            You have not been charged. Return to your {{ dashboard_link_start }}dashboard{{ link_end }} to try
                            again, or {{ support_link_start }}contact {{ platform_name }} Support{{ link_end }}.
                        {% endblocktrans %}
                    </div>
                {% endblock %}
            {% endif %}
        </div>
    </div>
{% endblock content %}
